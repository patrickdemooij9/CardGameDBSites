@using SkytearHorde.Business.Controllers
@inherits UmbracoViewPage<CreateCard>
@{
	Layout = "_masterTemplate.cshtml";
}

@await Html.PartialAsync("/Views/Partials/components/navigation.cshtml")

<div class="container px-4 md:px-8 mb-8">
    <div class="grid grid-cols-1 md:grid-cols-12 md:gap-x-8 gap-y-2">
        <div class="flex justify-center col-span-5" id="create-card-image">
            <div class="flex justify-center align-center mt-16 h-96 w-64 rounded-md border border-gray-500">
                Here will be your card!
            </div>
        </div>

        <div class="col-span-7">
            @using (Html.BeginUmbracoForm<CardMakerController>("RenderCard", null, new { @class = "grid grid-cols-12 gap-x-4 gap-y-2", hx_post = "/umbraco/surface/cardmaker/rendercard", hx_trigger="change", hx_target="#create-card-image" }))
            {
                <div class="col-span-full">
                    <h1 class="text-lg">Create card</h1>
                    <p><span class="text-gray-400">*</span> indicates required fields</p>
                </div>

                <div class="col-span-2">
                    <label class="block font-bold" for="Mana">Mana <span class="text-gray-400">*</span></label>
                    <input class="form-input w-12 h-12 rounded-full text-center" name="Mana" type="text">
                </div>
                <div class="col-span-10">
                    <label class="block font-bold" for="Name">Name <span class="text-gray-400">*</span></label>
                    <input class="h-12 form-input w-full" name="Name" type="text">
                </div>


                <div class="col-span-4">
                    <label class="block font-bold" for="Faction">Faction <span class="text-gray-400">*</span></label>
                    <select class="h-8 rounded" name="Faction">
                        <option value="Liothan">Liothan</option>
                        <option value="Taulot">Taulot</option>
                        <option value="Kurumo">Kurumo</option>
                        <option value="Nupten">Nupten</option>
                    </select>
                </div>
                <div class="col-span-4">
                    <label class="block font-bold" for="Grouping">Type <span class="text-gray-400">*</span></label>
                    <select class="h-8" name="Grouping">
                        <option value="Ally">Ally</option>
                        <option value="Spell">Spell</option>
                        <option value="Tower">Tower</option>
                        <option value="Attachment">Attachment</option>
                    </select>
                </div>
                <div class="col-span-4">
                    <label class="block font-bold" for="Subtype">Subtype</label>
                    <input class="max-w-full form-input block" name="Subtype" type="text">
                </div>

                <div class="col-span-8">
                    <label class="block font-bold" for="Ability">Ability</label>
                    <textarea class="h-24 w-full form-input resize-none" name="Ability"></textarea>
                    <small>Use |text| to bold text. [h+], [h-], [a+], [a-], [ar+], [ar-], [ta+], [ta-], [tar+], [tar-], [l] will be replaced with icons.</small>
                </div>

                <div class="col-span-4">
                    <!-- <p class="font-bold">Markup:</p>
                    <ul class="pl-4 list-disc">
                        <li></li>
                        <li></li>
                    </ul> -->
                </div>

                <div class="col-span-6">
                    <label class="block font-bold" for="Attack">Attack</label>
                    <input class="form-input w-12 h-12 rounded-full text-center" name="Attack" type="text">
                </div>
                <div class="col-span-4">
                    <label class="block font-bold" for="Health">Health</label>
                    <input class="form-input w-12 h-12 rounded-full text-center" name="Health" type="text">
                </div>

                <div class="col-span-4">
                    <label class="block font-bold" for="Rarity">Rarity</label>
                    <select class="h-8" name="Rarity">
                        <option value="0">Base (3x)</option>
                        <option value="1">Rare (2x)</option>
                        <option value="2">Legendary (1x)</option>
                        <option selected="selected" value="3">Mythic (1x)</option>
                    </select>
                </div>
                <div class="col-span-4">
                    <label class="block font-bold" for="MadeBy">Made by</label>
                    <input class="max-w-full form-input" name="MadeBy" type="text">
                </div>

                <div class="col-span-4">
                    <label class="block font-bold" for="ImageUrl">Image URL</label>
                    <input class="form-input w-full" name="ImageUrl" type="url">
                </div>

                <div class="col-span-12 pt-4">
                    <button type="submit" class="btn btn-outline">Download</button>
                    <p class="mt-4">Cards are NOT saved, keep your downloads!</p>

                    <h1 class="mt-12 text-lg">Share your card</h1>
                    <p>
                        Post in the <a class="underline"
                                       href="https://boardgamegeek.com/thread/3266039/skytear-horde-player-made-cards"
                                       target="_blank">BGG thread</a>
                        or on <a class="underline" href="https://discord.gg/gS5WUqGYbE" target="_blank">Discord</a>.
                    </p>
                </div>
            }
        </div>
    </div>
</div>